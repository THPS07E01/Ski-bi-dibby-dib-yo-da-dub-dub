require 'rubygems'
require 'nokogiri'
require 'open-uri'
require 'pry'

mails = ["damien.abad@assemblee-nationale.fr", "caroline.abadie@assemblee-nationale.fr", "berangere.abba@assemblee-nationale.fr", "jean-felix.acquaviva@assemblee-nationale.fr", "damien.adam@assemblee-nationale.fr", "lenaick.adam@assemblee-nationale.fr", "said.ahamada@assemblee-nationale.fr", "eric.alauzet@assemblee-nationale.fr", "ramlati.ali@assemblee-nationale.fr", "louis.aliot@assemblee-nationale.fr", "aude.amadou@assemblee-nationale.fr", "patrice.anato@assemblee-nationale.fr", "francois.andre@assemblee-nationale.fr", "pieyre-alexandre.anglade@assemblee-nationale.fr", "emmanuelle.anthoine@assemblee-nationale.fr", "jean-philippe.ardouin@assemblee-nationale.fr", "christophe.arend@assemblee-nationale.fr", "julien.aubert@assemblee-nationale.fr", "sophie.auconie@assemblee-nationale.fr", "clementine.autain@assemblee-nationale.fr", "laetitia.avia@assemblee-nationale.fr", "joel.aviragnet@assemblee-nationale.fr", "florian.bachelier@assemblee-nationale.fr", "delphine.bagarry@assemblee-nationale.fr", "didier.baichere@assemblee-nationale.fr", "erwan.balanant@assemblee-nationale.fr", "geraldine.bannier@assemblee-nationale.fr", "frederic.barbier@assemblee-nationale.fr", "ericka.bareigts@assemblee-nationale.fr", "jean-noel.barrot@assemblee-nationale.fr", "nathalie.bassire@assemblee-nationale.fr", "delphine.batho@assemblee-nationale.fr", "marie-noelle.battistel@assemblee-nationale.fr", "xavier.batut@assemblee-nationale.fr", "Stephane.Baudu@assemblee-nationale.fr", "thibault.bazin@assemblee-nationale.fr", "valerie.bazin-malgras@assemblee-nationale.fr", "sophie.beaudouin-hubiere@assemblee-nationale.fr", "valerie.beauvais@assemblee-nationale.fr", "olivier.becht@assemblee-nationale.fr", "belkhir.belhaddad@assemblee-nationale.fr", "Mounir.Belhamiti@assemblee-nationale.fr", "huguette.bello@assemblee-nationale.fr", "justine.benin@assemblee-nationale.fr", "thierry.benoit@assemblee-nationale.fr", "aurore.berge@assemblee-nationale.fr", "ugo.bernalicis@assemblee-nationale.fr", "philippe.berta@assemblee-nationale.fr", "herve.berville@assemblee-nationale.fr", "gregory.besson-moreau@assemblee-nationale.fr", "barbara.bessotballot@assemblee-nationale.fr", "gisele.biemouret@assemblee-nationale.fr", "bruno.bilde@assemblee-nationale.fr", "anne.blanc@assemblee-nationale.fr", "christophe.blanchet@assemblee-nationale.fr", "yves.blein@assemblee-nationale.fr", "pascal.bois@assemblee-nationale.fr", "philippe.bolo@assemblee-nationale.fr", "bruno.bonnell@assemblee-nationale.fr", "emilie.bonnivard@assemblee-nationale.fr", "aude.bono-vandorme@assemblee-nationale.fr", "jean-yves.bony@assemblee-nationale.fr", "julien.borowczyk@assemblee-nationale.fr", "eric.bothorel@assemblee-nationale.fr", "ian.boucard@assemblee-nationale.fr", "jean-claude.bouchet@assemblee-nationale.fr", "florent.boudie@assemblee-nationale.fr", "christophe.bouillon@assemblee-nationale.fr", "brigitte.bourguignon@assemblee-nationale.fr", "jean-louis.bourlanges@assemblee-nationale.fr", "pierre-yves.bournazel@assemblee-nationale.fr", "bertrand.bouyx@assemblee-nationale.fr", "pascale.boyer@assemblee-nationale.fr", "valerie.boyer@assemblee-nationale.fr", "yael.braun-pivet@assemblee-nationale.fr", "marine.brenier@assemblee-nationale.fr", "xavier.breton@assemblee-nationale.fr", "Sylvain.Brial@assemblee-nationale.fr", "guy.bricout@assemblee-nationale.fr", "jean-louis.bricout@assemblee-nationale.fr", "jean-jacques.bridey@assemblee-nationale.fr", "pascal.brindeau@assemblee-nationale.fr", "blandine.brocard@assemblee-nationale.fr", "bernard.brochand@assemblee-nationale.fr", "moetai.brotherson@assemblee-nationale.fr", "vincent.bru@assemblee-nationale.fr", "anne.brugnera@assemblee-nationale.fr", "danielle.brulebois@assemblee-nationale.fr", "fabrice.brun@assemblee-nationale.fr", "alain.bruneel@assemblee-nationale.fr", "anne-france.brunet@assemblee-nationale.fr", "stephane.buchou@assemblee-nationale.fr", "marie-george.buffet@assemblee-nationale.fr", "carole.bureau-bonnard@assemblee-nationale.fr", "pierre.cabare@assemblee-nationale.fr", "celine.calvez@assemblee-nationale.fr", "emilie.cariou@assemblee-nationale.fr", "gilles.carrez@assemblee-nationale.fr", "luc.carvounas@assemblee-nationale.fr", "michel.castellani@assemblee-nationale.fr", "anne-laure.cattelot@assemblee-nationale.fr", "jacques.cattin@assemblee-nationale.fr", "lionel.causse@assemblee-nationale.fr", "daniele.cazarian@assemblee-nationale.fr", "samantha.cazebonne@assemblee-nationale.fr", "jean-rene.cazeneuve@assemblee-nationale.fr", "sebastien.cazenove@assemblee-nationale.fr", "anthony.cellier@assemblee-nationale.fr", "jean-francois.cesarini@assemblee-nationale.fr", "emilie.chalas@assemblee-nationale.fr", "philippe.chalumeau@assemblee-nationale.fr", "annie.chapelier@assemblee-nationale.fr", "sylvie.charriere@assemblee-nationale.fr", "fannette.charvier@assemblee-nationale.fr", "andre.chassaigne@assemblee-nationale.fr", "philippe.chassaing@assemblee-nationale.fr", "sebastien.chenu@assemblee-nationale.fr", "gerard.cherpion@assemblee-nationale.fr", "guillaume.chiche@assemblee-nationale.fr", "Francis.Chouat@assemblee-nationale.fr", "paul.christophe@assemblee-nationale.fr", "dino.cinieri@assemblee-nationale.fr", "eric.ciotti@assemblee-nationale.fr", "stephane.claireaux@assemblee-nationale.fr", "mireille.clapot@assemblee-nationale.fr", "jean-michel.clement@assemblee-nationale.fr", "christine.cloarec@assemblee-nationale.fr", "jean-charles.colas-roy@assemblee-nationale.fr", "fabienne.colboc@assemblee-nationale.fr", "gilbert.collard@assemblee-nationale.fr", "paul-andre.colombani@assemblee-nationale.fr", "eric.coquerel@assemblee-nationale.fr", "alexis.corbiere@assemblee-nationale.fr", "pierre.cordier@assemblee-nationale.fr", "francois.cormier-bouligeon@assemblee-nationale.fr", "josiane.corneloup@assemblee-nationale.fr", "francois.cornut-gentille@assemblee-nationale.fr", "berangere.couillard@assemblee-nationale.fr", "charles.decourson@assemblee-nationale.fr", "yolaine.decourson@assemblee-nationale.fr", "michele.crouzet@assemblee-nationale.fr", "jean-pierre.cubertafon@assemblee-nationale.fr", "marie-christine.dalloz@assemblee-nationale.fr", "olivier.damaisin@assemblee-nationale.fr", "yves.daniel@assemblee-nationale.fr", "dominique.dasilva@assemblee-nationale.fr", "olivier.dassault@assemblee-nationale.fr", "alain.david@assemblee-nationale.fr", "dominique.david@assemblee-nationale.fr", "bernard.deflesselles@assemblee-nationale.fr", "typhanie.degois@assemblee-nationale.fr", "marc.delatte@assemblee-nationale.fr", "remi.delatte@assemblee-nationale.fr", "michel.delpon@assemblee-nationale.fr", "stephane.demilly@assemblee-nationale.fr", "nicolas.demoulin@assemblee-nationale.fr", "marguerite.deprez-audebert@assemblee-nationale.fr", "beatrice.descamps@assemblee-nationale.fr", "vincent.descoeur@assemblee-nationale.fr", "frederic.descrozaille@assemblee-nationale.fr", "jennifer.detemmerman@assemblee-nationale.fr", "pierre.dharreville@assemblee-nationale.fr", "eric.diard@assemblee-nationale.fr", "fabien.difilippo@assemblee-nationale.fr", "christophe.dipompeo@assemblee-nationale.fr", "benjamin.dirx@assemblee-nationale.fr", "julien.dive@assemblee-nationale.fr", "jean-baptiste.djebbari@assemblee-nationale.fr", "stephanie.do@assemblee-nationale.fr", "loic.dombreval@assemblee-nationale.fr", "jean-pierre.door@assemblee-nationale.fr", "jeanine.dubie@assemblee-nationale.fr", "jacqueline.dubois@assemblee-nationale.fr", "marianne.dubois@assemblee-nationale.fr", "coralie.dubost@assemblee-nationale.fr", "nicole.dubre-chirat@assemblee-nationale.fr", "virginie.duby-muller@assemblee-nationale.fr", "audrey.dufeuschubert@assemblee-nationale.fr", "jean-paul.dufregne@assemblee-nationale.fr", "francoise.dumas@assemblee-nationale.fr", "frederique.dumas@assemblee-nationale.fr", "laurence.dumont@assemblee-nationale.fr", "pierre-henri.dumont@assemblee-nationale.fr", "philippe.dunoyer@assemblee-nationale.fr", "stella.dupont@assemblee-nationale.fr", "nicolas.dupont-aignan@assemblee-nationale.fr", "bruno.duverge@assemblee-nationale.fr", "mjid.elguerrab@assemblee-nationale.fr", "sarah.elhairy@assemblee-nationale.fr", "jean-francois.eliaou@assemblee-nationale.fr", "nathalie.elimas@assemblee-nationale.fr", "sophie.errante@assemblee-nationale.fr", "nadia.essayan@assemblee-nationale.fr", "christophe.euzet@assemblee-nationale.fr", "jose.evrard@assemblee-nationale.fr", "catherine.fabre@assemblee-nationale.fr", "Elise.Fajgeles@assemblee-nationale.fr", "olivier.falorni@assemblee-nationale.fr", "michel.fanget@assemblee-nationale.fr", "daniel.fasquelle@assemblee-nationale.fr", "elsa.faucillon@assemblee-nationale.fr", "ofaure@assemblee-nationale.fr", "valeria.faure-muntian@assemblee-nationale.fr", "jean-michel.fauvergue@assemblee-nationale.fr", "yannick.favennec@assemblee-nationale.fr", "richard.ferrand@assemblee-nationale.fr", "jean-jacques.ferrara@assemblee-nationale.fr", "caroline.fiat@assemblee-nationale.fr", "jean-marie.fievet@assemblee-nationale.fr", "agnes.firminlebodo@assemblee-nationale.fr", "isabelle.florennes@assemblee-nationale.fr", "philippe.folliot@assemblee-nationale.fr", "Emmanuelle.Fontaine-Domeizel@assemblee-nationale.fr ", "pascale.fontenel-personne@assemblee-nationale.fr", "nicolas.forissier@assemblee-nationale.fr", "paula.forteza@assemblee-nationale.fr", "alexandre.freschi@assemblee-nationale.fr", "bruno.fuchs@assemblee-nationale.fr", "jean-luc.fugit@assemblee-nationale.fr", "laurent.furst@assemblee-nationale.fr", "olivier.gaillard@assemblee-nationale.fr", "albane.gaillot@assemblee-nationale.fr", "patricia.gallerneau@assemblee-nationale.fr", "claude.deganay@assemblee-nationale.fr", "laurent.garcia@assemblee-nationale.fr", "guillaume.garot@assemblee-nationale.fr", "thomas.gassilloud@assemblee-nationale.fr", "jean-jacques.gaultier@assemblee-nationale.fr", "raphael.gauvain@assemblee-nationale.fr", "laurence.gayte@assemblee-nationale.fr", "anne.genetet@assemblee-nationale.fr", "annie.genevard@assemblee-nationale.fr", "raphael.gerard@assemblee-nationale.fr"]

testmails = ["damien.abad@assemblee-nationale.fr", "caroline.abadie@assemblee-nationale.fr", "berangere.abba@assemblee-nationale.fr", "kokoko@gogogo.fr"]
testnames = ["M. Jean Michel", "Mme Ben de Camino", "M. Alex de la Gasior", "Mme Valentin Ben de la vega Cluzan"]

split_names = []
testnames.each do |name|
  if name.start_with? "M."
    name[0..2] = ""
  split_names << name.split
  else
  name[0..3] = ""
  split_names << name.split
  end
end

fusion = []
split_names.each_with_index do |name, i|  

  fusion[i] = {"Prenom" => name[0], "Nom" => name[1..100].join(' '), "mail" => testmails[i]       }
end

puts fusion.inspect
